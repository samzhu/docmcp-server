---
name: review-prd
description: 以資深架構師角度審查 PRD 文件，驗證所有技術資訊的正確性。當用戶說「審查 PRD」「檢查 PRD」「驗證 PRD」「review PRD」或提供 PRD 檔案路徑並要求確認正確性時自動使用。
allowed-tools: Read, Edit, Grep, Glob, WebSearch, WebFetch, TodoWrite
---

# PRD 技術審查工作流程

## 概述

這個 Skill 以資深架構師的角度審查 PRD（Product Requirements Document）文件，驗證所有技術資訊的正確性，包括：版本號、套件名稱、API 規格、技術描述等。

```
┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐
│ Phase 1 │──▶│ Phase 2 │──▶│ Phase 3 │──▶│ Phase 4 │──▶│ Phase 5 │
│  讀取   │   │  識別   │   │  驗證   │   │  報告   │   │  修正   │
└─────────┘   └─────────┘   └─────────┘   └─────────┘   └─────────┘
     │             │             │             │             │
     ▼             ▼             ▼             ▼             ▼
  讀取 PRD      提取待驗證     上網查詢       整理審查      根據用戶
  文件內容      的技術資訊     每項資訊       報告結果      指示修正
```

---

## 適用範圍

### 需要驗證的項目

| 類別 | 驗證項目範例 |
|------|-------------|
| **版本號** | Java 版本、Spring Boot 版本、框架版本、函式庫版本 |
| **套件名稱** | Maven/Gradle artifact ID、npm 套件名稱 |
| **API 規格** | 方法名稱、參數、回傳值、預設值 |
| **技術描述** | JEP 編號與對應 Java 版本、技術特性說明 |
| **模型資訊** | AI 模型名稱、維度、支援功能、停用日期 |
| **連結有效性** | 文件連結、規格連結、參考資料連結 |

---

## Phase 1：讀取 PRD 文件

### 1.1 取得檔案路徑

```
用戶可能提供：
- 完整路徑：/path/to/PRD.md
- 相對路徑：docs/PRD.md
- 僅檔名：PRD.md（需搜尋）
```

### 1.2 讀取文件

```bash
# 如果只有檔名，先搜尋
Glob: **/PRD.md

# 讀取完整內容
Read: [檔案路徑]
```

---

## Phase 2：識別待驗證項目

### 2.1 建立驗證清單

使用 TodoWrite 建立待驗證項目清單：

```
常見需要驗證的項目：
├── 程式語言版本（Java, Python, Node.js 等）
├── 框架版本（Spring Boot, React, Vue 等）
├── AI/ML 相關
│   ├── 模型名稱與版本
│   ├── Embedding 維度
│   └── 模型停用/更新日期
├── 資料庫相關
│   ├── 資料庫版本
│   └── 擴充套件版本（如 pgvector）
├── 套件/依賴
│   ├── artifact ID / 套件名稱
│   └── 版本號
├── 技術規格
│   ├── JEP 編號與 Java 版本對應
│   ├── 協議版本（如 MCP）
│   └── API 規格
└── 參考連結
    └── 連結有效性
```

### 2.2 優先順序

```
🔴 P0 - 立即驗證：
   - 核心框架版本（會影響整體架構）
   - AI 模型（可能已停用）
   - 主要依賴套件

🟡 P1 - 重要驗證：
   - 次要依賴版本
   - API 規格細節
   - 技術描述正確性

🟢 P2 - 一般驗證：
   - 參考連結
   - 文件格式
```

---

## Phase 3：上網驗證

### 3.1 搜尋策略

**版本驗證：**
```
WebSearch: [框架名稱] latest version [當前年份]
WebSearch: [框架名稱] release notes [當前年份]
WebSearch: [套件名稱] maven central latest
```

**模型驗證：**
```
WebSearch: [模型名稱] deprecated sunset date
WebSearch: [模型名稱] dimensions output
WebSearch: [新模型名稱] release [當前年份]
```

**技術規格驗證：**
```
WebSearch: JEP [編號] Java version
WebSearch: [技術名稱] specification [當前年份]
```

### 3.2 可信來源優先順序

```
┌─────────────────────────────────────────────────────────────┐
│                    驗證來源優先順序                           │
├─────────────────────────────────────────────────────────────┤
│  🥇 第一優先：官方來源                                        │
│     └─ 官方文件、官方部落格、官方 Release Notes               │
│                                                             │
│  🥈 第二優先：套件倉庫                                        │
│     └─ Maven Central, npm, PyPI, crates.io                 │
│                                                             │
│  🥉 第三優先：官方 GitHub                                     │
│     └─ Release 頁面、CHANGELOG、README                      │
│                                                             │
│  4️⃣ 第四優先：技術媒體                                       │
│     └─ InfoQ, DZone, 官方認可的技術部落格                    │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 記錄驗證結果

每個項目記錄：
- ✅ 正確：資訊與官方一致
- ❌ 錯誤：資訊不正確，附上正確值
- ⚠️ 過時：資訊曾經正確但已過時
- ❓ 無法驗證：找不到可靠來源

---

## Phase 4：整理審查報告

### 4.1 報告格式

```markdown
## PRD 審查報告

---

### 需要修正的問題

#### 1. [嚴重程度] [問題標題]

PRD 第 XX 行描述：
> [引用原文]

**問題**：[說明問題]

**正確資訊**：
| 項目 | PRD 值 | 正確值 |
|------|--------|--------|
| xxx | xxx | xxx |

**修正建議**：
```
[建議的修正內容]
```

**來源**：[URL]

---

### 驗證通過的項目

| 項目 | 狀態 | 說明 |
|------|------|------|
| Java 25 | ✅ 正確 | 已於 YYYY/MM/DD 發布 |
| Spring Boot X.X.X | ✅ 正確 | 版本正確 |
| ... | ... | ... |

---

### 其他建議

1. [建議 1]
2. [建議 2]

---

### Sources

- [來源名稱](URL)
- [來源名稱](URL)
```

### 4.2 問題嚴重程度分類

| 等級 | 說明 | 範例 |
|------|------|------|
| **[嚴重]** | 會導致系統無法運行 | 已停用的 API、不存在的套件 |
| **[中等]** | 功能可能受影響 | 過時的版本、錯誤的預設值 |
| **[輕微]** | 描述不精確 | JEP 與 Java 版本對應說明不準確 |
| **[建議]** | 可改進但不影響功能 | 文件連結可更新 |

---

## Phase 5：根據用戶指示修正

### 5.1 等待用戶確認

報告完成後，等待用戶指示：
- 全部修正
- 選擇性修正
- 需要更多資訊

### 5.2 執行修正

**修正原則：**
- 一次修正一個問題
- 每次修正後確認變更
- 更新版本號和變更記錄

**修正順序：**
```
1. 嚴重問題（會導致系統無法運行）
2. 中等問題（功能可能受影響）
3. 輕微問題（描述不精確）
4. 建議改進（可改進但不影響功能）
```

### 5.3 更新變更記錄

每次修正後，更新 PRD 的變更記錄：

```markdown
| 版本 | 日期 | 變更內容 | 作者 |
|------|------|----------|------|
| X.X.X | YYYY-MM-DD | [修正摘要] | [作者] |
```

---

## 檢查清單模板

### 常見 Java/Spring 專案

```
□ Java 版本（LTS: 21, 25）
□ Spring Boot 版本
□ Spring Framework 版本
□ Spring AI 版本（如適用）
□ 資料庫版本
□ 建構工具版本（Gradle/Maven）
□ JEP 編號與 Java 版本對應
```

### AI/ML 專案額外項目

```
□ Embedding 模型名稱
□ Embedding 維度
□ 模型停用/更新日期
□ API 端點
□ 認證方式
□ 定價資訊（如適用）
```

### 前端專案

```
□ Node.js 版本
□ 框架版本（React/Vue/Angular）
□ 建構工具版本（Vite/Webpack）
□ 套件管理器版本（npm/yarn/pnpm）
```

---

## 注意事項

### 時效性

- **每次審查前先確認當前日期**
- 技術資訊變化快速，特別是 AI 相關
- 注意模型停用公告和遷移指南

### 版本命名

注意不同專案的版本命名規則：
- Semantic Versioning: X.Y.Z
- CalVer: YYYY.MM.DD
- 自訂格式

### 預發布版本

注意區分：
- GA (General Availability) - 正式版
- RC (Release Candidate) - 候選版
- M1/M2 (Milestone) - 里程碑版
- SNAPSHOT - 開發版

在 PRD 中使用預發布版本時，應明確標註。

---

## 常見問題

### Q: 找不到官方來源怎麼辦？

A: 依序嘗試：
1. 官方 GitHub 的 Release 頁面
2. 套件倉庫（Maven Central, npm）
3. 官方 Twitter/X 公告
4. 如仍無法確認，標註為「❓ 無法驗證」

### Q: 版本剛發布，資訊有限怎麼辦？

A:
1. 以官方 Release Notes 為準
2. 標註資訊可能不完整
3. 建議用戶持續關注官方更新

### Q: PRD 使用的是預發布版本？

A:
1. 確認用戶是否有意使用預發布版本
2. 提醒可能的風險和不穩定性
3. 建議標註 GA 預計發布時間
